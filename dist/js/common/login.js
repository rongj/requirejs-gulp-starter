!function(factory){"function"==typeof define&&define.amd?define(["jquery","global"],factory):factory(jQuery)}(function($){"use strict";function Login(){this.backdrop=!1,this.success_cb=null,this.hide_cb=null,this.ablesubmit=!0,this.init()}$("#login").length||GLOBAL.Util.createCss("css/login.css","login");return Login.prototype={init:function(){this.interActive()},interActive:function(){var _this=this;$("#login-panel");$(document).on("click",".login-close",function(){_this.hide()}).on("click",".login-wrap",function(e){$(e.target).closest(".login-panel").length||_this.backdrop||_this.hide()}).on("click",".btn-submit",function(){_this.ablesubmit&&_this.logined()})},show:function(opts){var _this=this;$("#login-panel").length?$("#login-panel").show():$("body").append('<div class="login-wrap" id="login-panel"><div class="login-panel"><div class="panel-header"><h3>登录</h3><span class="login-close"></span></div><input type="text" placeholder="请输入用户名"><input type="password" placeholder="请输入密码"><span class="btn-submit">登录</span></div></div>').find(".login-wrap").show(),opts&&(opts.show&&opts.show(),_this.backdrop=opts.backdrop&&opts.backdrop,_this.success_cb=opts.success&&opts.success,_this.hide_cb=opts.hide&&opts.hide)},hide:function(){$("#login-panel").hide(),this.hide_cb&&this.hide_cb()},logined:function(){var _this=this;_this.ablesubmit=!1;var d={msg:"登录成功",name:"username"};setTimeout(function(){alert("登录成功"),_this.ablesubmit=!0,_this.hide(),_this.success_cb&&_this.success_cb(d)},500)}},Login});